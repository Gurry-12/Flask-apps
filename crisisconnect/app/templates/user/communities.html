{% extends 'base.html' %} {% block content %}
<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Your Communities</h1>
  <h2 class="text-xl font-semibold mb-2">Join a Community</h2>
  <form method="POST">
    {{ join_form.hidden_tag() }}
    <div class="mb-4">
      {{ join_form.community_id.label }} {{ join_form.community_id(class="border
      p-2 w-full") }}
    </div>
    {{ join_form.submit(class="bg-blue-500 text-white p-2 rounded") }}
  </form>
  <h2 class="text-xl font-semibold mb-2 mt-4">Your Communities</h2>
  {% if communities %} {% for community in communities %}
  <div class="border p-4 mb-2">
    <h3 class="font-bold">{{ community.name }}</h3>
    <p>Description: {{ community.description }}</p>
    <p>Created: {{ community.created_at }}</p>
    <form
      action="{{ url_for('user.user_community.leave_community', community_id=community.id) }}"
      method="POST"
      class="inline"
    >
      <button type="submit" class="bg-red-500 text-white p-1 rounded">
        Leave
      </button>
    </form>
  </div>
  {% endfor %} {% else %}
  <p>No communities found.</p>
  {% endif %}
  <a
    href="{{ url_for('user.user_dashboard.index') }}"
    class="bg-blue-500 text-white p-2 rounded mt-4 inline-block"
    >Back to Dashboard</a
  >
</div>
{% endblock %}
