{% extends 'base.html' %} {% block content %}
<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6">Admin Dashboard</h1>

  <section class="mb-10">
    <div class="flex items-center justify-between mb-3">
      <h2 class="text-xl font-semibold">Alerts</h2>
      <a
        href="{{ url_for('admin.admin_alerts.create_alert') }}"
        class="bg-blue-600 text-white px-3 py-2 rounded"
        >Create Alert</a
      >
    </div>
    {% if alerts %}
    <div class="overflow-x-auto bg-white shadow rounded">
      <table class="min-w-full border-collapse">
        <thead class="bg-gray-50">
          <tr>
            <th class="border px-4 py-2 text-left">ID</th>
            <th class="border px-4 py-2 text-left">Title</th>
            <th class="border px-4 py-2 text-left">Severity</th>
            <th class="border px-4 py-2 text-left">User ID</th>
            <th class="border px-4 py-2 text-left">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for alert in alerts %}
          <tr class="odd:bg-white even:bg-gray-50">
            <td class="border px-4 py-2">{{ alert.id }}</td>
            <td class="border px-4 py-2">{{ alert.title }}</td>
            <td class="border px-4 py-2">{{ alert.severity }}</td>
            <td class="border px-4 py-2">{{ alert.user_id }}</td>
            <td class="border px-4 py-2">
              <form
                action="{{ url_for('admin.admin_alerts.delete_alert', alert_id=alert.id) }}"
                method="POST"
                class="inline"
              >
                <button
                  type="submit"
                  class="bg-red-600 text-white px-3 py-1 rounded"
                >
                  Delete
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-gray-600">No alerts found.</p>
    {% endif %}
  </section>

  <section class="mb-10">
    <div class="flex items-center justify-between mb-3">
      <h2 class="text-xl font-semibold">Households</h2>
      <a
        href="{{ url_for('admin.admin_households.create_household') }}"
        class="bg-blue-600 text-white px-3 py-2 rounded"
        >Create Household</a
      >
    </div>
    {% if households %}
    <div class="overflow-x-auto bg-white shadow rounded">
      <table class="min-w-full border-collapse">
        <thead class="bg-gray-50">
          <tr>
            <th class="border px-4 py-2 text-left">ID</th>
            <th class="border px-4 py-2 text-left">Name</th>
            <th class="border px-4 py-2 text-left">User ID</th>
            <th class="border px-4 py-2 text-left">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for household in households %}
          <tr class="odd:bg-white even:bg-gray-50">
            <td class="border px-4 py-2">{{ household.id }}</td>
            <td class="border px-4 py-2">{{ household.name }}</td>
            <td class="border px-4 py-2">{{ household.user_id }}</td>
            <td class="border px-4 py-2">
              <form
                action="{{ url_for('admin.admin_households.delete_household', household_id=household.id) }}"
                method="POST"
                class="inline"
              >
                <button
                  type="submit"
                  class="bg-red-600 text-white px-3 py-1 rounded"
                >
                  Delete
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-gray-600">No households found.</p>
    {% endif %}
  </section>

  <section class="mb-10">
    <div class="flex items-center justify-between mb-3">
      <h2 class="text-xl font-semibold">Kits</h2>
      <a
        href="{{ url_for('admin.admin_kits.create_kit') }}"
        class="bg-blue-600 text-white px-3 py-2 rounded"
        >Create Kit</a
      >
    </div>
    {% if kits %}
    <div class="overflow-x-auto bg-white shadow rounded">
      <table class="min-w-full border-collapse">
        <thead class="bg-gray-50">
          <tr>
            <th class="border px-4 py-2 text-left">ID</th>
            <th class="border px-4 py-2 text-left">Name</th>
            <th class="border px-4 py-2 text-left">Household ID</th>
            <th class="border px-4 py-2 text-left">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for kit in kits %}
          <tr class="odd:bg-white even:bg-gray-50">
            <td class="border px-4 py-2">{{ kit.id }}</td>
            <td class="border px-4 py-2">{{ kit.name }}</td>
            <td class="border px-4 py-2">{{ kit.household_id }}</td>
            <td class="border px-4 py-2">
              <form
                action="{{ url_for('admin.admin_kits.delete_kit', kit_id=kit.id) }}"
                method="POST"
                class="inline"
              >
                <button
                  type="submit"
                  class="bg-red-600 text-white px-3 py-1 rounded"
                >
                  Delete
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-gray-600">No kits found.</p>
    {% endif %}
  </section>

  <section>
    <div class="flex items-center justify-between mb-3">
      <h2 class="text-xl font-semibold">Communities</h2>
      <a
        href="{{ url_for('admin.admin_community.create_community') }}"
        class="bg-blue-600 text-white px-3 py-2 rounded"
        >Create Community</a
      >
    </div>
    {% if communities %}
    <div class="overflow-x-auto bg-white shadow rounded">
      <table class="min-w-full border-collapse">
        <thead class="bg-gray-50">
          <tr>
            <th class="border px-4 py-2 text-left">ID</th>
            <th class="border px-4 py-2 text-left">Name</th>
            <th class="border px-4 py-2 text-left">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for community in communities %}
          <tr class="odd:bg-white even:bg-gray-50">
            <td class="border px-4 py-2">{{ community.id }}</td>
            <td class="border px-4 py-2">{{ community.name }}</td>
            <td class="border px-4 py-2">
              <form
                action="{{ url_for('admin.admin_community.delete_community', community_id=community.id) }}"
                method="POST"
                class="inline"
              >
                <button
                  type="submit"
                  class="bg-red-600 text-white px-3 py-1 rounded"
                >
                  Delete
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-gray-600">No communities found.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
